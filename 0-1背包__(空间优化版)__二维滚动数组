class Solution {
public:
    bool canPartition(vector<int>& nums) {
        int sum = reduce(nums.begin(),nums.end());
        if(sum%2)return 0;
        int n=nums.size();
        int c1=sum/2;
        vector<vector<int>>f(2,vector<int>(c1+1,0));
        f[0][0]=1;
        for(int i=0;i<n;i++){
            for(int c=0;c<=c1;c++){
                f[(i+1)%2][c]= c>=nums[i]&&f[i%2][c-nums[i]]||f[i%2][c];
            }
        }
        return f[n%2][c1];
    }
};
